<!DOCTYPE html>
<html lang="es-es">
<head>
	<title>Unity Profiler - Optimización &middot; Antonio Moon´s</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="author" content="Moon Antonio">
	<meta name="description" content="un blog sobre mi, juegos, desarrollo y anime">
	<meta name="keywords" content="Moon,Antonio,Dev,Game">
	<meta name="generator" content="Hugo 0.74.3" />

	<!-- CSS -->
	<link rel="stylesheet" href="https://moonantonio.github.io/css/main.css">
	<link rel='stylesheet' href='/css/prism.css' />
	
	<!-- Favicon -->
	<link rel="apple-touch-icon" href="https://moonantonio.github.io/apple-touch-icon.png">
	<link rel="shortcut icon" href="https://moonantonio.github.io/favicon.ico" type="image/x-icon">
	<link rel="icon" type="image/png" sizes="32x32" href="https://moonantonio.github.io/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="https://moonantonio.github.io/favicon-16x16.png">
	<link rel="manifest" href="https://moonantonio.github.io/site.webmanifest">
	<meta name="msapplication-TileColor" content="#da532c">
	<meta name="theme-color" content="#ffffff">

	

	<!-- Font Awesome -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.9.0/css/solid.min.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.9.0/css/brands.min.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.9.0/css/fontawesome.min.css">

	<!-- Google Fonts -->
	<link href="//fonts.googleapis.com/css?family=Source+Sans+Pro:400,700,700italic,400italic" rel="stylesheet" type="text/css">
</head>

<body>
	<header class="site-header">
	<div class="branding">
		<a href="https://moonantonio.github.io/">
		<img class="avatar" src="https://moonantonio.github.io/img/avatar.png" alt="avatar"/>
		</a>
		<h1 class="site-title">
				<i class="fas fa-angle-right"></i>
				<span class="logo__text">Antonio Moon´s</span>
				<span class="logo__cursor"></span>
		</h1>
	</div>
	<nav class="site-nav">
		<ul>
			<li class="list-group">
  <a class="list-group-item" href="https://moonantonio.github.io/devblog/" title="devBlog">
  		</i>&nbsp; devBlog</a> <i class="fas fa-gamepad" aria-hidden="true"></i>
  </a>
</li>

<li class="list-group">
  <a class="list-group-item" href="https://moonantonio.github.io/backdoor" title="BackDoor">
  		</i>&nbsp; BackDoor</a> <i class="fab fa-black-tie" aria-hidden="true"></i>
  </a>
</li>

<li class="list-group">
  <a class="list-group-item" href="https://github.com/MoonAntonio/rec.repos" title="Public">
  		</i>&nbsp; Publico</a> <i class="fas fa-code" aria-hidden="true"></i>
  </a>
</li>

<li class="list-group">
  <a class="list-group-item" href="https://moonantonio.github.io/portfolio/" title="About">
  		</i>&nbsp; About</a> <i class="fas fa-terminal" aria-hidden="true"></i>
  </a>
</li>

<li class="icon">
	<a href="https://moonantonio.github.io/" title="&#43;">
		</i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;•&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</i>
	</a>
</li>

<li class="icon">
	<a href="https://moonantonio.github.io/" title="">
		<i class="fas fa-fw fa-home"></i>
	</a>
</li>

<li class="icon">
	<a href="https://moonantonio.github.io/index.xml" title="Subcribe">
		<i class="fas fa-fw fa-rss"></i>
	</a>
</li>

<li class="icon">
	<a href="mailto:antoniomt.moon@gmail.com" title="Email">
		<i class="fas fa-fw fa-envelope"></i>
	</a>
</li>



<li class="icon">
	<a href="https://bitbucket.org/MoonAntonio" rel="me" title="Bitbucket">
		<i class="fab fa-fw fa-bitbucket"></i>
	</a>
</li>







<li class="icon">
	<a href="https://github.com/MoonAntonio" rel="me" title="GitHub">
		<i class="fab fa-fw fa-github"></i>
	</a>
</li>

























<li class="icon">
	<a href="https://trello.com/antoniomoon" rel="me" title="Trello">
		<i class="fab fa-fw fa-trello"></i>
	</a>
</li>

<li class="icon">
	<a href="https://gitlab.com/MoonAntonio" rel="me" title="Gitlab">
		<i class="fab fa-fw fa-gitlab"></i>
	</a>
</li>





		</ul>
	</nav>
</header>


	<div class="content">
	<article class="feature-image">
		<header style="background-image: url('https://moonantonio.github.io/img/img112.png')">
			
			<h1 class="title">Unity Profiler - Optimización</h1>
			
		</header>

		<section class="post-content">
			<p>Hablamos sobre cómo usar  Unity Profiler para inspeccionar cuántos lotes se hacen realmente. Ahora vamos a hablar un poco más sobre el  propio Profiler . <strong>Si ya lo sabes, puedes aprender algo nuevo.</strong></p>
<h2 id="profiler">Profiler</h2>
<p>La idea detrás del Profiler es proporcionar la mayor cantidad de tiempo, memoria, estadística e información posible. Puedes aprender:</p>
<ul>
<li>Cuánto tiempo necesita tu juego para calcular y renderizar un frame</li>
<li>¿Qué lleva tanto tiempo? (scripts, física, gráficos, etc.)</li>
<li>La causa de los picos (breves momentos en los que tus fps están cayendo)</li>
<li>Lo que está generando basura</li>
<li>¿Cuánta memoria asigna el juego?</li>
<li>y muchos más…</li>
</ul>
<p>Para acceder a todos estos datos necesitas:</p>
<ol>
<li>Abra la ventana del Profiler desde <strong>Windows -&gt; Profiler</strong>.</li>
<li>Asegúrese de que el botón <strong>Record</strong> esté habilitado.</li>
<li>Presione el botón <strong>Reproducir y haga una pausa</strong> (o deshabilite el botón Grabar ) cuando desee analizar los datos recopilados.</li>
</ol>
<!-- raw HTML omitted -->
<p><strong>Tenga en cuenta que es muy recomendable testear su juego en la plataforma de destino</strong> en lugar de hacerlo en el editor de Unity . Puede hacerlo creando una <strong>compilación de desarrollo y seleccionando Autoconnect Profiler</strong> en la ventana de compilación. Aunque el segundo no es obligatorio, iniciará automáticamente el Profiler cuando se inicie el juego.</p>
<!-- raw HTML omitted -->
<h2 id="profiler-window">Profiler Window</h2>
<p>Echemos un vistazo a la <strong>Profiler Window</strong>. Aprenderás todo lo que necesitas saber del <a href="http://bit.ly/2Af3A2K">manual de Unity</a> , pero ahora veremos una parte de él.</p>
<!-- raw HTML omitted -->
<ol>
<li>1-3 son categorías de métodos del Profiler. Hay más, pero estos tres serán los más interesantes. El <strong>primero es el uso de la CPU</strong>. Aquí aprenderá el tiempo total necesario para que su marco pueda <strong>calcular y renderizar</strong>. Los tiempos están categorizados a  Rendering, Scripts, Físicas, etc.</li>
<li>La categoría de <strong>Rendering</strong> le muestra información sobre lotes, llamadas SetPass (anteriormente llamadas Draw ), recuento de <strong>triángulos y vértices</strong>.</li>
<li>La categoría de <strong>memoria</strong> le informa sobre las <strong>estadísticas de memoria</strong>. ¡Asegúrate de que tu juego no esté consumiendo demasiado!</li>
<li>Esta es la sección de Profiler de uso de la CPU. Aquí encontrará mucha más información sobre los componentes internos de Unity y su propio rendimiento de scripts. Esta es solo información sobre un solo marco, por lo que debe hacer clic en cualquier parte del gráfico para seleccionar un marco. Por defecto, puedes expandir algunas llamadas de método solo al nivel 1; habilite  el <strong>perfil profundo (botón en la parte inferior)</strong> para explorar las llamadas de script más profundamente. Tenga cuidado con los perfiles profundos. Requiere mucha memoria y hace que tu juego se ejecute mucho más lento.</li>
</ol>
<h2 id="los-picos">Los picos</h2>
<p>Hablemos de los picos. Este es el <strong>término habitual para situaciones en las que los fps de su juego se reducen significativamente durante una fracción de segundo</strong>. ¿Por qué esto se llama un &ldquo;pico&rdquo;? Eso es porque en Profiler se ve como una espiga que sobresale del suelo.</p>
<!-- raw HTML omitted -->
<p>Los picos le están diciendo que algo causó, en este momento exacto, que su frame se calcule más de lo normal. Y deberías inspeccionarlo.</p>
<p>Enumeraré la causa más conocida de espigas:</p>
<h3 id="recolector-de-basura">Recolector de basura</h3>
<p>Si conoces la plataforma .NET lo suficientemente bien, lo más probable es que estés al tanto del <strong>recolector de basura</strong>. Si no lo hace, imagine que toda la memoria asignada por su juego en el tiempo de ejecución debe liberarse en algún momento, y esto también se hace en el tiempo de ejecución. Este proceso se llama recolección de basura y congela tu juego hasta que se termina. Por lo general, puede tomar solo una fracción de segundo, pero esto es más que suficiente para hacer que tu juego se sienta lento y desagradable. La <strong>única forma de solucionar este problema es evitar que ocurra la recolección de basura</strong>. Vamos a profundizar en este asunto en otra publicación del blog.</p>
<h3 id="instanciaciones">Instanciaciones</h3>
<p>La creación de objetos durante el juego es una de las <strong>operaciones más caras</strong>. Cuando crea una instancia de un objeto, crea una instancia de todos sus elementos secundarios, incluidos todos los componentes. Todos los componentes del script deben estar correctamente inicializados. Esta es una manera fácil de <strong>generar un pico bastante grande</strong>.</p>
<p>Para evitar que esto suceda, <strong>aprenda sobre la <a href="http://bit.ly/2AfVEhw">object pooling</a></strong>. Simplemente hablando, necesita instanciar todos los posibles objetos necesarios al principio y ocultarlos hasta que sea necesario. Hay algunos scripts que le ayudarán a manejar ese problema.</p>
<h3 id="scripts-y-algoritmos-caros">Scripts y algoritmos caros</h3>
<p>A veces los picos serán generados por tus propios scripts. Tal vez esté haciendo una <strong>operación demasiado costosa</strong> que podría optimizarse o debería hacerse en un hilo separado.</p>
<p>Este tipo de picos suele ser el más fácil de corregir, pero lo más probable es que necesite habilitar el modo de profiler profundo para que el generador de perfiles genere más información sobre el rendimiento de sus scripts. Muchos algoritmos pueden ser optimizados. <strong>Aquellos que no pueden ser optimizados, ejecutalos en corrutinas o hilos separados</strong>. Tenga en cuenta que si decide mover su código a un hilo separado, no debe llamar a Unity API desde ese hilo.</p>
<h2 id="procesos-de-fondo-y-sistema-operativo-propio">Procesos de fondo y sistema operativo propio</h2>
<p>A veces puedes experimentar picos que <strong>no son culpa de tu juego</strong>. Estos picos se muestran con una gran cantidad de tiempo asignado a la <strong>categoría Otros</strong>. Esto se puede ver en los sistemas operativos que permiten que se ejecuten demasiadas aplicaciones en segundo plano (sistemas operativos de escritorio o Android).</p>
<p>.\Moon</p>


			
		</section>
	</article>

	
	<div class="comments contribute-link">

	</div>
	<div class="comments related-posts">
		
			

<h3>Continuar Leyendo</h3>
<ul>
	
	<li><a href="/post/2018/comun/019/">El anime de SAO Alicizacion (nuevas versiones volúmenes 9 y 10)</a></li>
	
	<li><a href="/post/2018/comun/018/">La nueva actualización de Windows 10 ya está aquí, y permite controlar tu móvil desde el PC</a></li>
	
	<li><a href="/post/2018/design/001/">Diseño de Videojuegos - Introducción</a></li>
	
	<li><a href="/post/2018/dev/011/">Localización usando .PO</a></li>
	
	<li><a href="/post/2018/cplusplusunreal/001/">Aprende C&#43;&#43; con Unreal - Introducción</a></li>
	
</ul>

		
	</div>
	
	</div>

	<footer class="site-footer">
	<p class="text">&copy; 2020 - Moon Antonio</p>
</footer>
<script src='/js/prism.js'></script>

<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-89564434-1', 'auto');
	
	ga('send', 'pageview');
}
</script>

</body>
</html>
