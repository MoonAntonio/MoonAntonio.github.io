<!DOCTYPE html>
<html lang="es-es">
<head>
	<title>WebClient gestor de conexiones Unity3D &middot; Antonio Moon´s</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="author" content="Moon Antonio">
	<meta name="description" content="un blog sobre mi, juegos, desarrollo y anime">
	<meta name="keywords" content="Moon,Antonio,Dev,Game">
	<meta name="generator" content="Hugo 0.74.3" />

	<!-- CSS -->
	<link rel="stylesheet" href="https://moonantonio.github.io/css/main.css">
	<link rel='stylesheet' href='/css/prism.css' />
	
	<!-- Favicon -->
	<link rel="apple-touch-icon" href="https://moonantonio.github.io/apple-touch-icon.png">
	<link rel="shortcut icon" href="https://moonantonio.github.io/favicon.ico" type="image/x-icon">
	<link rel="icon" type="image/png" sizes="32x32" href="https://moonantonio.github.io/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="https://moonantonio.github.io/favicon-16x16.png">
	<link rel="manifest" href="https://moonantonio.github.io/site.webmanifest">
	<meta name="msapplication-TileColor" content="#da532c">
	<meta name="theme-color" content="#ffffff">

	

	<!-- Font Awesome -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.9.0/css/solid.min.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.9.0/css/brands.min.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.9.0/css/fontawesome.min.css">

	<!-- Google Fonts -->
	<link href="//fonts.googleapis.com/css?family=Source+Sans+Pro:400,700,700italic,400italic" rel="stylesheet" type="text/css">
</head>

<body>
	<header class="site-header">
	<div class="branding">
		<a href="https://moonantonio.github.io/">
		<img class="avatar" src="https://moonantonio.github.io/img/avatar.png" alt="avatar"/>
		</a>
		<h1 class="site-title">
				<i class="fas fa-angle-right"></i>
				<span class="logo__text">Antonio Moon´s</span>
				<span class="logo__cursor"></span>
		</h1>
	</div>
	<nav class="site-nav">
		<ul>
			<li class="list-group">
  <a class="list-group-item" href="https://moonantonio.github.io/devblog/" title="devBlog">
  		</i>&nbsp; devBlog</a> <i class="fas fa-gamepad" aria-hidden="true"></i>
  </a>
</li>

<li class="list-group">
  <a class="list-group-item" href="https://moonantonio.github.io/backdoor" title="BackDoor">
  		</i>&nbsp; BackDoor</a> <i class="fab fa-black-tie" aria-hidden="true"></i>
  </a>
</li>

<li class="list-group">
  <a class="list-group-item" href="https://github.com/MoonAntonio/rec.repos" title="Public">
  		</i>&nbsp; Publico</a> <i class="fas fa-code" aria-hidden="true"></i>
  </a>
</li>

<li class="list-group">
  <a class="list-group-item" href="https://moonantonio.github.io/portfolio/" title="About">
  		</i>&nbsp; About</a> <i class="fas fa-terminal" aria-hidden="true"></i>
  </a>
</li>

<li class="icon">
	<a href="https://moonantonio.github.io/" title="&#43;">
		</i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;•&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</i>
	</a>
</li>

<li class="icon">
	<a href="https://moonantonio.github.io/" title="">
		<i class="fas fa-fw fa-home"></i>
	</a>
</li>

<li class="icon">
	<a href="https://moonantonio.github.io/index.xml" title="Subcribe">
		<i class="fas fa-fw fa-rss"></i>
	</a>
</li>

<li class="icon">
	<a href="mailto:antoniomt.moon@gmail.com" title="Email">
		<i class="fas fa-fw fa-envelope"></i>
	</a>
</li>



<li class="icon">
	<a href="https://bitbucket.org/MoonAntonio" rel="me" title="Bitbucket">
		<i class="fab fa-fw fa-bitbucket"></i>
	</a>
</li>







<li class="icon">
	<a href="https://github.com/MoonAntonio" rel="me" title="GitHub">
		<i class="fab fa-fw fa-github"></i>
	</a>
</li>

























<li class="icon">
	<a href="https://trello.com/antoniomoon" rel="me" title="Trello">
		<i class="fab fa-fw fa-trello"></i>
	</a>
</li>

<li class="icon">
	<a href="https://gitlab.com/MoonAntonio" rel="me" title="Gitlab">
		<i class="fab fa-fw fa-gitlab"></i>
	</a>
</li>





		</ul>
	</nav>
</header>


	<div class="content">
	<article class="feature-image">
		<header style="background-image: url('https://moonantonio.github.io/img/bg.png')">
			
			<h1 class="title">WebClient gestor de conexiones Unity3D</h1>
			
		</header>

		<section class="post-content">
			<p>WebClient es un componente del lado del cliente, un modelo distribuido de aplicaciones de niveles múltiples utilizado para crear y desarrollar aplicaciones empresariales. Los componentes del lado del cliente son típicamente aplicaciones de computadora que se <strong>ejecutan en la computadora de un usuario y se conectan a un servidor</strong>. Estos componentes realizan operaciones en el lado del cliente, ya que pueden necesitar acceso a la información disponible solo en el lado del cliente, como la entrada del usuario, o porque el servidor carece de la potencia de procesamiento necesaria en tales operaciones.</p>
<hr>
<h1 id="que-es-un-gestor-de-conexiones">¿Que es un gestor de conexiones?</h1>
<p>Un gestor de conexiones, simplemente es un <strong>manager para controlar las conexiones ya sea webs u otros</strong>. Aqui voy a explicar, en que consiste un gestor de conexiones basico, para controlar la descarga de un archivo con solo una url. Este ejemplo, no es para ver los secretos ocultos de los protocolos, ni las limitaciones de plataformas, unicamente para comprobar que desde Unity3D se pueden gestionar conexiones https.</p>
<!-- raw HTML omitted -->
<hr>
<h1 id="como-empezar">¿Como empezar?</h1>
<p>Primero vamos a crear un nuevo proyecto en Unity3D, yo lo llamare Gestor Conexiones Project. Ahora creare una <strong>serie de carpetas para almazenar</strong> los assets que vamos a usar.</p>
<!-- raw HTML omitted -->
<p>Despues, como siempre, una escena llamada <strong>Alexandria</strong> e importare los assets que voy a usar.</p>
<p>En la escena, vamos a crear una <strong>nueva estructura para la UI</strong>.</p>
<!-- raw HTML omitted -->
<p>En la base, crearemos la imagen de fondo, un panel que gestionara el contenido principal y otro que nos servira como un popup. Los dos paneles tienen que tener un canvasGroup.</p>
<p>Despues, <strong>necesitaremos 3 botones</strong>, uno para iniciar la descarga, otro para cancelarla y por ultimo uno para comprobar el archivo descargado. Tambien colocaremos una barra de progreso, para ver el progreso de la descarga y para finalizar dos textos, uno controlara la velocidad de descarga y otro el porcentaje de descarga.</p>
<!-- raw HTML omitted -->
<p>Ahora en un gameobject vacio, agregaremos un script llamado, <strong>LinkBehaviour</strong>, este script, controlara la descarga.</p>
<!-- raw HTML omitted -->
<hr>
<h1 id="picando-codigo">Picando codigo</h1>
<p>Un behavior, es la manera de extender un custom element para <strong>compartir el código entre diferentes componentes</strong>. Esta manera de compartir código permite añadir nuevas características al componente que se este desarrollando utilizando lo que otro desarrollador haya realizado en un componente totalmente distinto.</p>
<!-- raw HTML omitted -->
<p>Por ello, se nuestro script se llama <strong>LinkBehaviour</strong>. Agregaremos algunas variables para ir iniciando(Para poder usar el tipo <strong>Slider</strong> tienes que importar la libreria UnityEngine.UI).</p>
<hr>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-C#" data-lang="C#"><span style="color:#75715e">#region Librerias
</span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> UnityEngine;
<span style="color:#66d9ef">using</span> UnityEngine.UI;
<span style="color:#75715e">#endregion
</span><span style="color:#75715e"></span>
<span style="color:#66d9ef">namespace</span> MoonAntonio
{
	<span style="color:#75715e">/// &lt;summary&gt;
</span><span style="color:#75715e"></span>	<span style="color:#75715e">/// &lt;para&gt;Componente central del gestor de conexiones.&lt;/para&gt;
</span><span style="color:#75715e"></span>	<span style="color:#75715e">/// &lt;/summary&gt;
</span><span style="color:#75715e"></span>	<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">LinkBehaviour</span> : MonoBehaviour 
	{
		<span style="color:#75715e">#region Variables Publicas
</span><span style="color:#75715e"></span>		<span style="color:#66d9ef">public</span> Slider progressBar;
		<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">bool</span> UsarNombreOriginal = <span style="color:#66d9ef">true</span>;
		<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">string</span> newNombreArchivo = <span style="color:#e6db74">&#34;x.zip&#34;</span>;
		<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">bool</span> onStart = <span style="color:#66d9ef">false</span>;
		<span style="color:#75715e">#endregion
</span><span style="color:#75715e"></span>
		<span style="color:#75715e">#region Variables Privadas
</span><span style="color:#75715e"></span>		<span style="color:#66d9ef">private</span> <span style="color:#66d9ef">string</span> uri;
		<span style="color:#75715e">#endregion
</span><span style="color:#75715e"></span>	}
}
</code></pre></div><hr>
<p>Ahora, usaremos esas variables creadas, en el metodo Start(), vamos a iniciarlo reseteando nuestra barra de progreso, asignaremos la url de descarga y realizaremos algunas comprobaciones para futuras caracteristicas.</p>
<hr>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-C#" data-lang="C#"><span style="color:#75715e">#region Inicializadores
</span><span style="color:#75715e"></span>	<span style="color:#66d9ef">private</span> <span style="color:#66d9ef">void</span> Start()
	{
		<span style="color:#75715e">// Establecer el valor maximo de la barra de progreso(Slider de UI) en 100(%)
</span><span style="color:#75715e"></span>		<span style="color:#66d9ef">if</span> (progressBar.maxValue != <span style="color:#ae81ff">100f</span>) progressBar.maxValue = <span style="color:#ae81ff">100f</span>;

		<span style="color:#75715e">// Inicializar a 0
</span><span style="color:#75715e"></span>		progressBar.<span style="color:#66d9ef">value</span> = <span style="color:#ae81ff">0</span>;

		<span style="color:#75715e">// Asignar Uri
</span><span style="color:#75715e"></span>		uri = downloadUrl;

		<span style="color:#75715e">// Usar el nombre original del archivo descargado
</span><span style="color:#75715e"></span>		<span style="color:#66d9ef">if</span> (UsarNombreOriginal) newNombreArchivo = Path.GetFileName(uri);

		<span style="color:#75715e">// Comprobar si existe el directorio
</span><span style="color:#75715e"></span>		DirectoryInfo df = <span style="color:#66d9ef">new</span> DirectoryInfo(savePath);
		<span style="color:#66d9ef">if</span> (!df.Exists) Directory.CreateDirectory(savePath);


		<span style="color:#66d9ef">if</span> (onStart) DescargarArchivo();
	}
<span style="color:#75715e">#endregion
</span></code></pre></div><hr>
<p>Al realizar la siguientes comprobaciones, os saldran errores, esto es normal, ya que es necesario crear unas nuevas variables y metodos. Tambien tendremos que llamar a unas librerias de system.</p>
<hr>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-C#" data-lang="C#"><span style="color:#75715e">#region Librerias
</span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> UnityEngine;
<span style="color:#66d9ef">using</span> UnityEngine.UI;
<span style="color:#66d9ef">using</span> System.IO;
<span style="color:#66d9ef">using</span> System;
<span style="color:#75715e">#endregion
</span></code></pre></div><hr>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-C#" data-lang="C#"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">string</span> downloadUrl = <span style="color:#66d9ef">string</span>.Empty;
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">string</span> savePath = <span style="color:#66d9ef">string</span>.Empty;
</code></pre></div><hr>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-C#" data-lang="C#"><span style="color:#75715e">#region API
</span><span style="color:#75715e"></span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> DescargarArchivo(){}
<span style="color:#75715e">#endregion
</span></code></pre></div><hr>
<p>De este modo, tendremos un metodo publico, con el que poder acceder para descargar nuestro archivo. Siempre desde una url y con una ruta de descarga local.</p>
<!-- raw HTML omitted -->
<p>Ahora, tenemos que generar algunas variables nuevas.</p>
<hr>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-C#" data-lang="C#"><span style="color:#66d9ef">public</span> GameObject btnDescargaFinalizada;
<span style="color:#66d9ef">public</span> GameObject btnIniciarDescarga;
<span style="color:#66d9ef">private</span> <span style="color:#66d9ef">bool</span> isCancelado;
<span style="color:#66d9ef">private</span> <span style="color:#66d9ef">bool</span> isDescargando;
<span style="color:#66d9ef">private</span> WebClient client;
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">bool</span> dataPathPersistente = <span style="color:#66d9ef">false</span>;
</code></pre></div><hr>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-C#" data-lang="C#"><span style="color:#75715e">#region API
</span><span style="color:#75715e"></span>	<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> DescargarArchivo()
	{
		<span style="color:#75715e">// Desactivamos la posibilidad de llamar de nuevo al metodo
</span><span style="color:#75715e"></span>		btnIniciarDescarga.SetActive(<span style="color:#66d9ef">false</span>);

		<span style="color:#75715e">// Reseteamos la descarga y inicializamos el objeto
</span><span style="color:#75715e"></span>		isCancelado = <span style="color:#66d9ef">false</span>;
		client = <span style="color:#66d9ef">new</span> WebClient();

		<span style="color:#75715e">// Comprobamos la persistencia para prevenir problemas futuros
</span><span style="color:#75715e"></span>		<span style="color:#66d9ef">if</span> (!dataPathPersistente)
			client.DownloadFileAsync(<span style="color:#66d9ef">new</span> System.Uri(downloadUrl), savePath + <span style="color:#e6db74">&#34;/&#34;</span> + newNombreArchivo);
		<span style="color:#66d9ef">else</span>
			client.DownloadFileAsync(<span style="color:#66d9ef">new</span> System.Uri(uri), Application.persistentDataPath + <span style="color:#e6db74">&#34;/&#34;</span> + newNombreArchivo);

		<span style="color:#75715e">// Iniciamos la descarga y nos subscribimos a los eventos de WebClient()
</span><span style="color:#75715e"></span>		isDescargando = <span style="color:#66d9ef">true</span>;
		client.DownloadProgressChanged += <span style="color:#66d9ef">new</span> DownloadProgressChangedEventHandler(DescargaProgreso);
		client.DownloadFileCompleted += <span style="color:#66d9ef">new</span> System.ComponentModel.AsyncCompletedEventHandler(DescargaCompletada);
	}
<span style="color:#75715e">#endregion
</span></code></pre></div><hr>
<p>Recordar, que hay que importar la libreria using System.Net;. Este metodo, desactiva el boton de iniciar descarga, para asi no volver a generar la llamada. Luego inicia un nuevo objeto de tipo webclient y crea unas reglas de prototipo para no tener problemas despues. Por ultimo, se subscribe a los eventos de client, para tener acceso al progreso de la descarga y a su finalizacion.</p>
<p>Ahora, hay que realizar los metodos de las subscripciones a los eventos de WebClient. Crearemos las variables que nos faltan.</p>
<hr>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-C#" data-lang="C#"><span style="color:#66d9ef">private</span> <span style="color:#66d9ef">bool</span> isTerminado;
<span style="color:#66d9ef">private</span> <span style="color:#66d9ef">float</span> progreso;
<span style="color:#66d9ef">private</span> <span style="color:#66d9ef">string</span> bytes;
</code></pre></div><hr>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-C#" data-lang="C#"><span style="color:#75715e">#region Eventos
</span><span style="color:#75715e"></span>	<span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> DescargaCompletada(<span style="color:#66d9ef">object</span> sender, System.ComponentModel.AsyncCompletedEventArgs e)
	{
		<span style="color:#66d9ef">if</span> (isCancelado)
		{
			Debug.Log(<span style="color:#e6db74">&#34;Cancelado.&#34;</span>);
			isDescargando = <span style="color:#66d9ef">false</span>;
			isTerminado = <span style="color:#66d9ef">true</span>;
		}
		<span style="color:#66d9ef">else</span>
		{
			<span style="color:#66d9ef">if</span> (e.Error == <span style="color:#66d9ef">null</span>)
			{
				Debug.Log(<span style="color:#e6db74">&#34;Completado&#34;</span>);
				isDescargando = <span style="color:#66d9ef">false</span>;
				isTerminado = <span style="color:#66d9ef">true</span>;
			}
			<span style="color:#66d9ef">else</span>
				Debug.Log(e.Error.ToString());
		}
	}

	<span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> DescargaProgreso(<span style="color:#66d9ef">object</span> sender, DownloadProgressChangedEventArgs e)
	{
		progreso = (e.BytesReceived * <span style="color:#ae81ff">100</span> / e.TotalBytesToReceive);
		bytes = e.BytesReceived / <span style="color:#ae81ff">1000</span> + <span style="color:#e6db74">&#34; / &#34;</span> + e.TotalBytesToReceive / <span style="color:#ae81ff">1000</span>;
	}
<span style="color:#75715e">#endregion
</span></code></pre></div><hr>
<p>En primer metodo, comprueba si se ha cancelado la descarga o si no. El segundo le asigna a las variables los datos de los bytes recibidos y del progreso actual.
Como recibimos en bytes, realizo la siguiente operacion para pasar los valores.</p>
<!-- raw HTML omitted -->
<hr>
<p>Ahora vamos a crear dos metodos publicos en la zona de API, para carga el nivel y para cancelar la descarga. Tambien un metodo privado para autocancelar todo si se desabilita el script.</p>
<hr>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-C#" data-lang="C#"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> CargarNivel(<span style="color:#66d9ef">string</span> name)
{
	UnityEngine.SceneManagement.SceneManager.LoadScene(name);
}

<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> CancelarDescarga()
{
	isCancelado = <span style="color:#66d9ef">true</span>;
	<span style="color:#66d9ef">if</span> (client != <span style="color:#66d9ef">null</span>)
	{
		client.CancelAsync();
	}

	btnIniciarDescarga.SetActive(<span style="color:#66d9ef">true</span>);
}

<span style="color:#66d9ef">private</span> <span style="color:#66d9ef">void</span> OnDisable()
{
	isCancelado = <span style="color:#66d9ef">true</span>;
	<span style="color:#66d9ef">if</span> (client != <span style="color:#66d9ef">null</span>) client.CancelAsync();
}
</code></pre></div><hr>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-C#" data-lang="C#"><span style="color:#75715e">#region Actualizadores
</span><span style="color:#75715e"></span>	<span style="color:#66d9ef">private</span> <span style="color:#66d9ef">void</span> Update()
	{
		<span style="color:#66d9ef">if</span> (isDescargando)
		{
			progressBar.<span style="color:#66d9ef">value</span> = progreso;
			progressText.text = progreso.ToString() + <span style="color:#e6db74">&#34;% &#34;</span>;

			<span style="color:#66d9ef">if</span> (isMostrarBytes) bytesText.text = <span style="color:#e6db74">&#34;Recibido : &#34;</span> + bytes + <span style="color:#e6db74">&#34; kb&#34;</span>;
		}


		<span style="color:#66d9ef">if</span> (isTerminado)
		{
			<span style="color:#66d9ef">if</span> (isCancelado)
			{
				bytesText.text = <span style="color:#e6db74">&#34;Cancelado&#34;</span>;
				progressText.text = <span style="color:#e6db74">&#34;0 %&#34;</span>;
				isTerminado = <span style="color:#66d9ef">false</span>;
			}
			<span style="color:#66d9ef">else</span>
			{
				<span style="color:#66d9ef">if</span> (!btnDescargaFinalizada.activeSelf)
				{
					btnDescargaFinalizada.SetActive(<span style="color:#66d9ef">true</span>);
					btnIniciarDescarga.SetActive(<span style="color:#66d9ef">false</span>);
				}
				bytesText.text = <span style="color:#e6db74">&#34;Recibido : &#34;</span> + <span style="color:#e6db74">&#34;Completado&#34;</span>;
				progressText.text = <span style="color:#e6db74">&#34;100 %&#34;</span>;
			}
		}

	}
<span style="color:#75715e">#endregion
</span></code></pre></div><hr>
<p>ya solo queda, asignar los datos necesarios y los metodos a los botones y vereis como inicia la descarga.</p>
<!-- raw HTML omitted -->
<p>.\Moon</p>


			
		</section>
	</article>

	
	<div class="comments contribute-link">

	</div>
	<div class="comments related-posts">
		
			

<h3>Continuar Leyendo</h3>
<ul>
	
	<li><a href="/post/2018/comun/007/">El Arte del diseño</a></li>
	
	<li><a href="/post/2018/amv/005/">[Vine] - Bat Girl Xtrem</a></li>
	
	<li><a href="/post/2018/comun/006/">Terra Battle 2!?</a></li>
	
	<li><a href="/post/2018/comun/005/">Steam en 2018</a></li>
	
	<li><a href="/post/2018/amv/004/">[Vine] - Darling Red</a></li>
	
</ul>

		
	</div>
	
	</div>

	<footer class="site-footer">
	<p class="text">&copy; 2020 - Moon Antonio</p>
</footer>
<script src='/js/prism.js'></script>

<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-89564434-1', 'auto');
	
	ga('send', 'pageview');
}
</script>

</body>
</html>
